{% extends 'base.html' %}
{%block head%}
<style>
            /* Custom styles for the progress tracker */
            .progress-bar {
              width: 100%;
              background-color: #f3f3f3;
              border-radius: 4px;
              overflow: hidden;
            }

            .progress {
              width: 0;
              background-color: #4CAF50;
              height: 30px;
              transition: width 0.3s ease;
            }

            .btn {
              margin-top: 10px;
            }
          </style>
{%endblock%}
{% block content %}

<div class="flex flex-cols ">
    <div class="w-2/3">
        <div class="h-[30vh]  px-20 relative">
            <h1 class="text-5xl absolute font-bold text-yellow-600">Hi, {{current_user.username}}.<br>Check your <br>progress üëãüèª
            </h1>
            <div 
                class="absolute top-5  rounded-3xl right-20 justify-end h-12 w-52 bg-yellow-800 flex flex-cols justify-center items-center text-white">
                üìÜ &nbsp;&nbsp; &nbsp;<p id="currentDate"></p></div>
        </div>
        <div class="h-[70vh] px-20 relative">
            <div class="grid gap-5">
                <div class="h-[21vh] flex flex-cols  gap-10 ">
                    <div class="w-1/2  h-[40vwh] bg-yellow-600 rounded-3xl px-10 text-white drop-shadow-2xl">
                        <h1 class="text-2xl mt-5 mb-2"> Your Progress </h1>
                        <div class="max-w-md mx-auto rounded shadow-md">
                                    
                                    <div class="progress-bar mb-5">
                                      <div id="progress" class="progress w-[{{percent}}%]" ></div>
                                    </div>

                                  </div>

                        <span class="mt-5">{{percent}}% Tasks Completed ü•≥</span>
                    </div>
                    <div
                        class="w-1/2 bg-yellow-600 drop-shadow-2xl rounded-3xl px-10 text-white gap-5 flex flex-cols justify-center items-center">
                        <h1 class=" mb-5  mt-5">Next Delivery scheduled</h1>
                        <h1 class="font-bold mt-5 mb-5 px-16 py-2 bg-yellow-800 rounded-3xl ">1 Aug 2023 </h1>
                    </div>
                </div>
                <div class="h-[26vh] flex flex-cols  gap-5">
                    <button
                        class="w-1/6 bg-yellow-600 drop-shadow-2xl text-white flex flex-cols justify-center items-center rounded-3xl"
                        id="prevBtn">Prev
                    </button>
                    <div
                        class="w-3/4 h-[26vh] bg-yellow-600 drop-shadow-2xl rounded-3xl flex flex-cols justify-center items-center text-white px-10">
                        <div class="grid">
                            <p class="mt-2 text-center text-xl " id="quote" style="font-family: 'Playfair Display', serif;">
                            </p>

                            <DIV class=" flex flex-cols justify-center items-center">
                                <div class="w-20 h-1 bg-yellow-800 mt-3 rounded-full"></div>

                            </DIV>
                            <p class="mt-2  text-gray-200 text-center" id="author">Baba Ranchod Das</p>
                        </div>
                    </div>
                    <button
                        class="w-1/6 bg-yellow-600 text-white drop-shadow-2xl rounded-3xl flex flex-cols justify-center items-center"
                        id="nextBtn">Next</button>
                </div>
            </div>
        </div>
    </div>
    <div class="grid">
    <div class="w-[30vw] h-[51vh] rounded-3xl bg-yellow-800 p-10">
        <div class="flex flex-cols justify-center items-center">
            <div class="grid"> <div class="flex flex-cols justify-center items-center">
                <img src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=880&q=80"
                    class="w-16 rounded-full  h-16"></div>
                <h1 class="text-white text-2xl text-center mt-3">{{current_user.username}}</h1>
            </div>

        </div>
        <div class="flex flex-cols justify-center items-center">
            <div class="grid grid-cols-2 grid-rows-2 gap-5 mt-6">
                <a href="{{url_for('journal')}}"><div class="h-20 w-48 bg-[#FFFAF7] rounded-3xl flex flex-cols justify-center items-center transition ease-in-out delay-100 hover:-translate-1 hover:scale-105 hover:bg-orange-50 duration-300 px-4 py-2 shadow-lg cursor-pointer border border-yellow-800">
                    <h1 class="text-md text-center font-bold">MindFlow Journal<br><span
                            class="text-center text-sm font-light">Daily Journal</span></h1>
                </div></a>

                <a href="{{url_for('timer')}}"><div class="h-20 w-48 bg-[#FFFAF7] rounded-3xl flex flex-cols justify-center items-center transition ease-in-out delay-100 hover:-translate-1 hover:scale-105 hover:bg-orange-50 duration-300 px-4 py-2 shadow-lg cursor-pointer border border-yellow-800">
                    <h1 class="text-md text-center font-bold">SereniChime<br><span
                            class="text-center text-sm font-light">Meditation Timer</span></h1>
                </div></a>

                <a href="{{url_for('vidlib')}}"><div class="h-20 w-48 bg-[#FFFAF7] rounded-3xl flex flex-cols justify-center items-center transition ease-in-out delay-100 hover:-translate-1 hover:scale-105 hover:bg-orange-50 duration-300 px-4 py-2 shadow-lg cursor-pointer border border-yellow-800">
                    <h1 class="text-md text-center font-bold">Soul Guide<br><span
                            class="text-center text-sm font-light">Video Library</span></h1>
                </div></a>

                <a href="{{url_for('explore')}}"><div class="h-20 w-48 bg-[#FFFAF7] rounded-3xl flex flex-cols justify-center items-center transition ease-in-out delay-100 hover:-translate-1 hover:scale-105 hover:bg-orange-50 duration-300 px-4 py-2 shadow-lg cursor-pointer border border-yellow-800">
                    <h1 class="text-md text-center font-bold">NutriStore<br><span
                            class="text-center text-sm font-light">Supplements marketplace</span></h1>
                </div></a>
            </div>
        </div>
        </div>
        <Div class="h-[26vh] rounded-3xl w-[30vw] bg-yellow-800 -mt-[8rem]">
        <h1 class="text-xl text-center mt-2  text-white font-bold">Check the tasks you did today</h1>
        <div class="max-w-md mx-auto rounded text-white p-2 ">
           
            <ul id="taskList" class="list-disc pl-10 mt-2">
              {%if current_user.journal != d%}
              <a href="{{url_for('done', what='journal',which=0)}}"><li class="mb-2 cursor-pointer">Wrote Journal</li></a>
              {%else%}
              <a href="{{url_for('done', what='journal',which=1)}}"><li class="mb-2 cursor-pointer line-through">Wrote Journal</li></a>
              {%endif%}

              {%if current_user.meditate != d%}
              <a href="{{url_for('done', what='meditate',which=0)}}"><li class="mb-2 cursor-pointer">Meditated for today</li></a>
              {%else%}
              <a href="{{url_for('done', what='meditate',which=1)}}"><li class="mb-2 cursor-pointer line-through">Meditated for today</li></a>
              {%endif%}
              {%if current_user.video != d%}
              <a href="{{url_for('done', what='video',which=0)}}"><li class="mb-2 cursor-pointer">Watched today's videos</li></a>
              {%else%}
              <a href="{{url_for('done', what='video',which=1)}}"><li class="mb-2 cursor-pointer line-through">Watched today's videos</li></a>
              {%endif%}
              {%if current_user.pill != d%}
              <a href="{{url_for('done', what='pill',which=0)}}"><li class="mb-2 cursor-pointer">Ate all supplements</li></a>
              {%else%}
              <a href="{{url_for('done', what='pill',which=1)}}"><li class="mb-2 cursor-pointer line-through">Ate all supplements</li></a>
              {%endif%}

            </ul>
          </div>

</div></Div>
</div>
</div>

<script>
    // Array of motivation quotes and their authors
    const quotes = [
        {
            quote: "Success is not final, failure is not fatal: It is the courage to continue that counts.",
            author: "Winston Churchill"
        },
        {
            quote: "Believe you can and you're halfway there.",
            author: "Theodore Roosevelt"
        },
        {
            quote: "Your time is limited, don't waste it living someone else's life.",
            author: "Steve Jobs"
        },
        {
            quote: "The only way to achieve the impossible is to believe it is possible.",
            author: "Charles Kingsleigh (Alice in Wonderland)"
        },
        {
            quote: "Success is stumbling from failure to failure with no loss of enthusiasm.",
            author: "Winston Churchill"
        },
        {
            quote: "The only person you are destined to become is the person you decide to be.",
            author: "Ralph Waldo Emerson"
        }
        // Add more quotes and authors as needed
    ];

    let currentQuoteIndex = 0;

    // Function to display the quote and its author
    function displayQuote() {
        const quote = quotes[currentQuoteIndex];
        document.getElementById("quote").textContent = quote.quote;
        document.getElementById("author").textContent = "- " + quote.author;
    }

    // Function to display the next quote
    function showNextQuote() {
        currentQuoteIndex = (currentQuoteIndex + 1) % quotes.length;
        displayQuote();
    }

    // Function to display the previous quote
    function showPrevQuote() {
        currentQuoteIndex = (currentQuoteIndex - 1 + quotes.length) % quotes.length;
        displayQuote();
    }

    // Add event listeners to the Next and Previous buttons
    document.getElementById("nextBtn").addEventListener("click", showNextQuote);
    document.getElementById("prevBtn").addEventListener("click", showPrevQuote);

    // Display the first quote when the page loads
    displayQuote();
</script>
<Script>
const months = [
        "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul",
        "Aug", "Sep", "Oct", "Nov", "Dec"
    ];

    const currentDate = new Date();
    const day = currentDate.getDate();
    const monthIndex = currentDate.getMonth();
    const month = months[monthIndex];

    const formattedDate = `${day} ${month}`;

    // Display the formatted date inside the <p> tag with id="currentDate"
    const pTag = document.getElementById("currentDate");
    pTag.textContent = formattedDate;
</script>
{% endblock content %}
